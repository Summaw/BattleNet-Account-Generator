(async()=>{let n=null;function e(l,e=100){return new Promise(r=>{let a=!1;const c=setInterval(async()=>{if(!a){a=!0;var e=document.querySelector(l.ocr_image_selector),e=function(e){var t=e?.style.background?.trim()?.match(/(?!^)".*?"/g);if(0<t?.length)return t[0].replaceAll('"',"");let r=e.src||e.dataset.src;return r?r=r.startsWith("/")?""+window.location.origin+r:r:null}(e);if(e&&""!==e){var t=JSON.stringify(e);if(n!==t)return n=t,clearInterval(c),a=!1,r({image_url:e})}a=!1}},e)})}for(;;){await Time.sleep(1e3);var t=await BG.exec("get_settings");t&&t.ocr_auto_solve&&function(e){try{return null!==document.querySelector(e.ocr_image_selector)&&null!==document.querySelector(e.ocr_input_selector)}catch(e){}}(t)&&(r=void 0,r=(await e(t=t)).image_url,await!((r=(await NopeCHA.post({captcha_type:"ocr",image_urls:[r],key:t.key}))["data"])&&0<r.length&&(t=document.querySelector(t.ocr_input_selector))&&!t.value&&(t.value=r[0])))}var r})();
