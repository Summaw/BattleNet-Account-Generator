(async()=>{function s(e){e=e?.style.background?.trim()?.match(/(?!^)".*?"/g);return e&&0!==e.length?e[0].replaceAll('"',""):null}async function m(){var e=document.querySelector("h2.prompt-text")?.innerText?.replace(/\s+/g," ")?.trim();if(!e)return null;var t={"0430":"a","0441":"c","0501":"d","0065":"e","0435":"e","04bb":"h","0069":"i","0456":"i","0458":"j","03f3":"j","04cf":"l","03bf":"o","043e":"o","0440":"p","0455":"s","0445":"x","0443":"y","0335":"-"};var a=[];for(const c of e){var r=function(e,t,a){for(;(""+e).length<a;)e=""+t+e;return e}(c.charCodeAt(0).toString(16),"0",4);a.push(r in t?t[r]:c)}return a.join("")}let p=null;async function e(){"block"===document.querySelector("div.check")?.style.display?a=a||!0:(a=!1,await Time.sleep(500),document.querySelector("#checkbox")?.click())}async function t(e){"EN"!==document.querySelector(".display-language .text").textContent&&(document.querySelector(".language-selector .option:nth-child(23)").click(),await Time.sleep(500));t=100;var t,{task:a,cells:r,urls:c}=await new Promise(n=>{let o=!1;const u=setInterval(async()=>{if(!o){o=!0;var e=await m();if(e){var t=document.querySelector(".challenge-example > .image > .image"),t=s(t);if(t&&""!==t){var a=document.querySelectorAll(".task-image");if(9===a.length){var r=[],c=[];for(const i of a){var l=i.querySelector("div.image");if(!l)return void(o=!1);l=s(l);if(!l||""===l)return void(o=!1);r.push(i),c.push(l)}a=JSON.stringify(c);if(p!==a)return p=a,clearInterval(u),o=!1,n({task:e,task_url:t,cells:r,urls:c})}}}o=!1}},t)}),l=Time.time(),i=(await NopeCHA.post({captcha_type:"hcaptcha",task:a,image_urls:c,key:e.key}))["data"];if(i){a=e.hcaptcha_solve_delay-(Time.time()-l);0<a&&await Time.sleep(a);for(let e=0;e<i.length;e++)!1!==i[e]&&"true"!==r[e].getAttribute("aria-pressed")&&r[e].click();await Time.sleep(200);try{document.querySelector(".button-submit").click()}catch(e){}}}let a=!1;for(;;){await Time.sleep(1e3);var r=await BG.exec("get_settings");r&&(r.hcaptcha_auto_open&&null!==document.querySelector("div.check")?await e():r.hcaptcha_auto_solve&&null!==document.querySelector("h2.prompt-text")&&await t(r))}})();
